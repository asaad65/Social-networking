    <!DOCTYPE html>
    <html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="stayle.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&t" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    </head>
    <body>
    <div style="display: flex; justify-content: center; align-items: center; position: fixed; top: 0px; bottom: 0px; left: 0px;right: 0px; margin: auto; background: #858585b6; width: 100px; height: 100px; border-radius: 10px; z-index: 9999;" id="lolo">
    <span class="loader"></span>
    </div>
    <div class="alert">
        <div>
            <img src="imges/true.jpeg" alt="">
            <h2>تم التسجيل الدخول بنجاح</h2>
        </div>
    </div>
    <div id="mod2" style=" height: 100vh; width: 100%; display: flex; justify-content: center; position: absolute; display: none; align-items: center;" >
    <div class="model">
        <div>
            <label for="name1">name</label>
            <input type="text" placeholder="name" id="name1">
        </div>
        <div>
            <label for="password">password</label>
            <input type="password" placeholder="password" id="password">
        </div>
        <button id="cancel">cancel</button>
        <button id="login2">login</button>
        <h2 id="error"></h2>
    </div>
    </div>
    <div id="mod3" style="height: 100vh; width: 100%; display: flex; justify-content: center; position: absolute; display: none; align-items: center;" >
    <div class="model">
        <div>
            <label for="name2">name:</label>
            <input type="text" placeholder="name" id="name2">
        </div>
        <div>
            <label for="password2">password:</label>
            <input type="password" placeholder="password" id="password2">
        </div>
                <div>
            <label for="username">username:</label>
            <input type="text" placeholder="username" id="username">
        </div>
                <div>
            <label for="email">email:</label>
            <input type="email" placeholder="email" id="email">
        </div>
                <div>
            <label for="image">image:</label>
            <input type="file" placeholder="image" id="image">
        </div>
        <button id="cancel2">cancel</button>
        <button id="Register2">Register</button>
        <h2 id="error2"></h2>
    </div>
    </div>
    <div class="continr">
        <div class="left">
        <h3 onclick="location = '/Social-networking/'">Tarmeez</h3>
        <h3 onclick="protfileine()">Home</h3>
        <span onclick="protfileine()">Profile</span>
        </div>
        <div>
        <img id="img9"  src="imges/user.png" alt="" style="width: 40px; height: 40px; border: 1px solid #000000; border-radius: 50px;">
        <span id="Profile"></span>
        <button onclick="getLogin()" id="log">Login</button>
        <button id="rej">Register</button>
        <button id="logout">logout</button>

        </div>
    </div>
    <div class="content">
        <div class="postats">
            <div class="post">
                <div class="hedars" onclick="protfile()">
                    <!-- <img src="imges/1.jpg" alt=""><span>@Yarhmm</span>

                </div>
                <div class="bode">
                    <img src="imges/2.jpg" alt="">
                    <p>2 min ago</p>
                    <h2>hello world</h2>
                    <h5>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nam architecto expedita repudiandae atque consequatur, nihil corporis doloribus cum sapiente optio non ipsam unde est aliquam eveniet voluptas, hic magnam ad.</h5>
                </div>
                <div class="foter">
                    <span class="material-symbols-outlined">edit</span> <h3>(3)comment</h3> 
                </div>
            </div>
            <div class="post">
                <div class="hedars">
                    <img src="imges/1.jpg" alt=""><span>@Yarhmm</span>
                </div>
                <div class="bode">
                    <img src="imges/2.jpg" alt="">
                    <p>2 min ago</p>
                    <h2>hello world</h2>
                    <h5>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nam architecto expedita repudiandae atque consequatur, nihil corporis doloribus cum sapiente optio non ipsam unde est aliquam eveniet voluptas, hic magnam ad.</h5>
                </div> -->
                <div class="foter">
                    <span class="material-symbols-outlined">edit</span> <h3>(3)comment</h3> 
                </div>
            </div>
        </div>
    </div>
    <div class="addInPost">
    <span class="material-symbols-outlined" onclick="AddInPost()">add</span>
    </div>
    <div id="mod4" style="height: 100vh; width: 100%; display: none; justify-content: center; position: fixed; align-items: center;top: 0; background: #e8e8e861; "  >
        <div class="model">
            <div>
                <label for="title">title:</label>
                <input type="text" placeholder="title" id="title">
            </div>
            <div>
                <label for="body">body:</label>
                    <textarea id="body"></textarea>
            </div>
            <div>
                <label for="img">img:</label>
                <input type="file" id="img1">
            </div>
            <button id="cancel1">cancel</button>
            <button id="creat">creat</button>
            <h2 id="error7" style="color: red;"></h2>
        </div>
    </div>
    <div id="mod5" style="height: 100vh; width: 100%; display: none; justify-content: center; position: absolute; align-items: center;top: 0; background: #e8e8e861; "  >
        <div class="model" style ="height: 200px;">
            <div>
                <label for="title">title:</label>
                <input type="text" placeholder="title" id="title9">
            </div>
            <div>
                <label for="body">body:</label>
                    <textarea id="body9"></textarea>
            </div>
            <!-- <div>
                <label for="img">img:</label>
                <input type="file" id="img90">
            </div> -->
            <button id="cancel11">cancel</button>
            <button id="update" onclick="update(false)">update</button>
        </div>
    </div>
    <div id ="alet7" style="height: 100vh; width: 100%;  justify-content: center; position: fixed; align-items: center; z-index: -1; display: none; " >
    </div>
    </body>
    <script src="main.js"></script>
    <script>
    let mod4 = document.querySelector('#mod4')
    let cancel1 = document.querySelector('#cancel1')
    let cancel11 = document.querySelector('#cancel11')
    let creat = document.querySelector('#creat')
    let model4 = document.querySelector('#mod4 .model')
    let error7 = document.querySelector('#error7')
    let post2 = document.querySelector('.content .postats')
    let last_page = 1
    function getBost4(relod = true, num = 1){
    getloder(true)
    if(relod){
    post2.innerHTML = ''
    }

    axios.get('https://tarmeezacademy.com/api/v1/posts?page='+num)
    .then( response =>{
        getloder(false)

    last_page = response.data.meta.last_page
    let post = response.data.data
    post.forEach(element => {
    let eltitel =  element.title == null ? '' : element.title
    let elbody =  element.body == null ? '' : element.body
    let elimg =typeof element.author.profile_image == 'object' ? 'imges/user.png': element.author.profile_image
    let postId = element.id

    let prog = `
        <div class="post">
                    <div class="hedars">
                        <div   onclick="protfile(${element.author.id})" style ="display:flex; align-items: center; cursor: pointer;">
                            <img src=${elimg} alt=""><span>${element.author.name}</span>
                        </div>

                    
                        ${JSON.parse(localStorage.getItem('user'))?element.author.id == JSON.parse(localStorage.getItem('user')).id?`<button onclick = "btn_edit('${encodeURIComponent(JSON.stringify(element))}')" class="btn_edit" style="margin-left: auto; background:#3e3e3e; border:1px solid #000; padding:5px 10px; border-radius: 10px; cursor: pointer; color:#fff; ">edit</button>`:'':''}
                        ${JSON.parse(localStorage.getItem('user'))?element.author.id == JSON.parse(localStorage.getItem('user')).id?`<button onclick = "delet(${postId},${false})" class="delet" style="margin-left: 10px; background:red; border:1px solid #000; padding:5px 10px; border-radius: 10px; cursor: pointer; color:#fff; ">delet</button>`:'':''}

                    </div>
                    <div class="bode">
                    ${typeof element.image == 'object' ? '' : `<img src=${element.image} alt="">` }
                        <p>${element.created_at}</p>
                        <h2>${eltitel}</h2>
                        <h5>${elbody}</h5>
                    </div>
                    <div class="foter" onclick="post_coment(${postId})" style ="cursor: pointer;">
                    <span class="material-symbols-outlined">edit</span> <h3>(${element.comments_count})comment</h3> 
                    </div>
                </div>

    `
    post2.innerHTML += prog
    });
    })
    }
    getBost4()
    function AddInPost(){
    mod4.style = 'height: 100vh; width: 100%; display: flex; justify-content: center; position: absolute; align-items: center;top: 0; background: #e8e8e861; "'
    }
    cancel1.onclick = function(){
    if(mod4){
    mod4.style = 'display:none;'

    }
    model4.style = 'height: 350px;'
    error7.innerHTML = ''
    }

    creat.onclick = function(){
        getloder(true)

    let title = document.querySelector('#title').value
    let body = document.querySelector('#body').value
    let img1 = document.querySelector('#img1').files[0]
    let token = localStorage.getItem('token')

    let formdata2 = new FormData()

    formdata2.append('body',body)
    if(title){
    formdata2.append('title',title)
    }
    if(img1){
    formdata2.append('image',img1)
    }
    axios.post('https://tarmeezacademy.com/api/v1/posts',formdata2,{
    headers:{
        "authorization":`Bearer ${token}`,
        "Content-Type" : "multipart/form-data"
    }
    })
    .then(respons => {
        getloder(false)

    let alert5 = document.querySelector('.alert div h2') 
    model4.style = 'height: 350px;'
        mod4.style = 'display:none;'
    alert3.style = 'display: flex;'
    alert5.innerHTML = 'تم نشر المنشور بنجاح'
    setTimeout(() => {
    alert3.style = ' display: none;'
    alert5.innerHTML = 'تم تسجيل الدخول بنجاح'

    }, 1000);
    error7.innerHTML = ''
    getBost4()

    })
    .catch(error => {
    error7.innerHTML = error.response.data.message
    model4.style = 'height: 400px;'
    })
    }


    let number = 1
    window.addEventListener('scroll',function(){
    const scrol = window.scrollY + window.innerHeight >= document.documentElement.scrollHeight - 100
    if(scrol && number <= last_page ){
    number += 1
    getBost4(false,number)

    }
    })



    function protfile(id){
    location = `profile.html?userId=${id}`
    }
    </script>
    </html>